[workspace]
members = [
    "utils",
    "cast",
    "forge",
    "cli",
    "cli/test-utils",
    "config",
    "fmt",
    "ui",
    "evm"
]

[profile.release]
# Optimize for binary size, but keep loop vectorization
opt-level = "s"
strip = true
# Performance optimizations
lto = "fat"
codegen-units = 1
panic = "abort"
# We end up stripping away these symbols anyway
debug = 0

[patch."https://github.com/gakonst/ethers-rs"]
ethers = { git = "https://github.com/onbjerg/ethers-rs", branch = "onbjerg/artifact-identifier" }
ethers-core = { git = "https://github.com/onbjerg/ethers-rs", branch = "onbjerg/artifact-identifier" }
ethers-providers = { git = "https://github.com/onbjerg/ethers-rs", branch = "onbjerg/artifact-identifier" }
ethers-signers = { git = "https://github.com/onbjerg/ethers-rs", branch = "onbjerg/artifact-identifier" }
ethers-etherscan = { git = "https://github.com/onbjerg/ethers-rs", branch = "onbjerg/artifact-identifier" }
ethers-solc = { git = "https://github.com/onbjerg/ethers-rs", branch = "onbjerg/artifact-identifier" }
